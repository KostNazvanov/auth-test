(this["webpackJsonpauth-test"]=this["webpackJsonpauth-test"]||[]).push([[0],{181:function(e){e.exports=JSON.parse('{"apiKey":"AIzaSyBKCvulILU2SoELxg0xWE_b7DkCCOYvqQA","authDomain":"auth-test-ec1cc.firebaseapp.com","databaseURL":"https://auth-test-ec1cc.firebaseio.com","projectId":"auth-test-ec1cc","storageBucket":"auth-test-ec1cc.appspot.com","messagingSenderId":"747107781495","appId":"1:747107781495:web:3d27c61874c39d4e6b2f72"}')},189:function(e,t,a){e.exports=a(361)},198:function(e,t,a){},349:function(e,t,a){},361:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(9),o=a.n(c),l=a(20),s=(a(198),a(365)),u=a(62),i=a(38),d=a(363),m=a(366),p=a(135),g=a(14),b=a(39),h=a(49),E=a(185),f=a(160),v={user:null,isLoggedIn:!1,dashboard:!1,settings:!1,loading:!1},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN":case"GET_DASHBOARD":case"GET_SETTINGS":return Object(b.a)({},e,{loading:!0});case"LOGIN_FAIL":case"GET_DASHBOARD_FAIL":case"GET_SETTINGS_FAIL":return Object(b.a)({},e,{loading:!1});case"LOGIN_SUCCESS":return Object(b.a)({},e,{user:t.user,isLoggedIn:null!==t.user});case"LOGOUT":return Object(b.a)({},e,{user:null,isLoggedIn:!1});case"GET_DASHBOARD_SUCCESS":return Object(b.a)({},e,{dashboard:t.dashboard,loading:!1});case"GET_SETTINGS_SUCCESS":return Object(b.a)({},e,{settings:t.settings,loading:!1});default:return e}},S=Object(E.a)(),I=Object(h.createStore)(O,v,Object(f.composeWithDevTools)(Object(h.applyMiddleware)(S))),j=function(e){return{isLoggedIn:e.isLoggedIn}},w=I.dispatch,y=function(e){return function(t){return w(Object(b.a)({type:e},t))}},L=function(e){var t,a=e.toLowerCase().replace(/_./g,(function(e){return e.toUpperCase()})).replace(/_/g,"");return t={},Object(g.a)(t,a,y(e)),Object(g.a)(t,"".concat(a,"Success"),y("".concat(e,"_SUCCESS"))),Object(g.a)(t,"".concat(a,"Fail"),y("".concat(e,"_FAIL"))),t},k=Object(b.a)({},L("LOGIN"),{},L("GET_DASHBOARD"),{},L("GET_SETTINGS"),{logout:y("LOGOUT")}),T=Object(l.b)(j)((function(e){return e.isLoggedIn?r.a.createElement(i.a,{to:"/dashboard"}):r.a.createElement(d.a,{onFinish:function(e){return k.login(e)}},r.a.createElement(d.a.Item,{label:"Email",name:"email",rules:[{required:!0,message:"Please input your email!"}]},r.a.createElement(m.a,null)),r.a.createElement(d.a.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Please input your password!"}]},r.a.createElement(m.a.Password,null)),r.a.createElement(d.a.Item,null,r.a.createElement(p.a,{type:"primary",htmlType:"submit"},"Login")))})),G=a(35),x=a(50),A=a(109),_=a(75),D=a(364),C=a(79),N=a(367),F=function(e){Object(_.a)(a,e);var t=Object(A.a)(a);function a(){var e;Object(G.a)(this,a);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).componentDidMount=function(){k.getDashboard({})},e.render=function(){var t=e.props.dashboard;return r.a.createElement(D.a,null,t?e.content:r.a.createElement(C.a,null))},e}return Object(x.a)(a,[{key:"content",get:function(){var e=this.props.dashboard;return r.a.createElement(N.a,null,Object.values(e).map((function(e,t){var a=e.label,n=void 0===a?"":a,c=e.body,o=e.image,l=void 0!==o&&o;return r.a.createElement(N.a.Panel,{header:n,key:t},l&&r.a.createElement("img",{src:l,alt:""}),r.a.createElement("br",null),r.a.createElement("br",null),c)})))}}]),a}(r.a.Component),U=Object(l.b)((function(e){return{dashboard:e.dashboard,loading:e.loading}}))(F),B=a(368),P=a(369),R=function(e){Object(_.a)(a,e);var t=Object(A.a)(a);function a(){var e;Object(G.a)(this,a);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).state={formEnabled:!1},e.componentDidMount=function(){k.getSettings({})},e.getFormItem=function(t){var a=e.state.formEnabled,n=t.type,c=t.value,o=t.options;switch(n){case"image":return r.a.createElement("div",null,r.a.createElement(D.a,null,r.a.createElement("img",{src:c,alt:""})),r.a.createElement(m.a,{defaultValue:c,disabled:!a}));case"select":return r.a.createElement(B.a,{defaultValue:c,disabled:!a},Object.values(o).map((function(e){return r.a.createElement(B.a.Option,{value:e,key:e},e)})));case"string":default:return r.a.createElement(m.a,{defaultValue:c,disabled:!a})}},e.render=function(){var t=e.props.settings;return r.a.createElement(D.a,null,t?e.content:r.a.createElement(C.a,null))},e}return Object(x.a)(a,[{key:"content",get:function(){var e=this,t=this.props.settings,a=this.state.formEnabled;return r.a.createElement("div",null,Object.values(t).map((function(t){return r.a.createElement(D.a,{bordered:!1},t.label,r.a.createElement("br",null),e.getFormItem(t))})),r.a.createElement(D.a,{hoverable:!0,onClick:function(){return e.setState({formEnabled:!a})}},"Enable inputs ",a&&" (they still can't be saved)",r.a.createElement("br",null),r.a.createElement(P.a,{checked:a})))}}]),a}(r.a.Component),W=Object(l.b)((function(e){return{settings:e.settings,loading:e.loading}}))(R),H=a(362),z=[{label:"Login",path:"/login",component:T,isLoggedIn:!1},{label:"Dashboard",path:"/dashboard",component:U,isLoggedIn:!0},{label:"Settings",path:"/settings",component:W,isLoggedIn:!0},{label:"Logout",path:"/logout",component:Object(l.b)(j)((function(e){return e.isLoggedIn?r.a.createElement("div",null,r.a.createElement(H.a,{src:"https://cdn.lowgif.com/full/fc3d7d9abd06a92e-hi-bear-gifs-get-the-best-gif-on-giphy.gif",size:256}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(p.a,{type:"danger",size:"large",onClick:function(){return k.logout({})},style:{width:"100%"}},"Logout")):r.a.createElement(i.a,{to:"/login"})})),isLoggedIn:!0}];var M=Object(l.b)(j)(Object(i.g)((function(e){return r.a.createElement(s.a,{style:{width:256},mode:"inline",selectedKeys:[e.location.pathname]},z.map((function(t){return t.isLoggedIn===e.isLoggedIn&&r.a.createElement(s.a.Item,{key:t.path,disabled:t.path===e.location.pathname},r.a.createElement(u.b,{to:t.path},t.label))})))})));var q=Object(l.b)(j)((function(e){return r.a.createElement(i.d,null,z.map((function(e){return r.a.createElement(i.b,{key:e.path,path:e.path,component:e.component})})),r.a.createElement(i.b,{path:"/"},r.a.createElement(D.a,null,r.a.createElement(C.a,null),r.a.createElement("br",null),r.a.createElement(D.a.Meta,{description:r.a.createElement(u.b,{to:"/login"},r.a.createElement(p.a,{type:"primary",style:{width:"100%"}},"Go to working page"))}))))}));a(349),a(350);var J=function(){return r.a.createElement(u.a,null,r.a.createElement(M,null),r.a.createElement("div",{className:"app"},r.a.createElement(q,null)))},K=a(17),V=a.n(K),Q=a(180),Y=a.n(Q),$=a(181),X=Y.a.initializeApp($),Z=X.auth(),ee=X.database();Z.onAuthStateChanged((function(e){e?k.loginSuccess({user:e}):k.logout({})}));var te=function(e,t){return Z.createUserWithEmailAndPassword(e,t)},ae=function(e,t){return Z.signInWithEmailAndPassword(e,t)},ne=a(89),re=V.a.mark(ue),ce=V.a.mark(ie),oe=V.a.mark(de),le=V.a.mark(me),se=V.a.mark(pe);function ue(e){var t,a,n,r;return V.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.email,a=e.password,c.prev=1,c.next=4,ae(t,a);case 4:n=c.sent,k.loginSuccess({user:n}),c.next=19;break;case 8:if(c.prev=8,c.t0=c.catch(1),console.error(c.t0),"auth/user-not-found"!==c.t0.code){c.next=18;break}return c.next=14,te(t,a);case 14:r=c.sent,k.loginSuccess({user:r}),c.next=19;break;case 18:k.loginFail({error:c.t0});case 19:case"end":return c.stop()}}),re,null,[[1,8]])}function ie(){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.signOut();case 2:case"end":return e.stop()}}),ce)}function de(){var e;return V.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ee.ref("dashboard").once("value");case 3:e=t.sent.val(),k.getDashboardSuccess({dashboard:e}),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0),k.getDashboardFail({error:t.t0});case 11:case"end":return t.stop()}}),oe,null,[[0,7]])}function me(){var e;return V.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ee.ref("settings").once("value");case 3:e=t.sent.val(),k.getSettingsSuccess({settings:e}),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0),k.getSettingsFail({error:t.t0});case 11:case"end":return t.stop()}}),le,null,[[0,7]])}function pe(){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ne.a)("LOGIN",ue);case 2:return e.next=4,Object(ne.a)("LOGOUT",ie);case 4:return e.next=6,Object(ne.a)("GET_DASHBOARD",de);case 6:return e.next=8,Object(ne.a)("GET_SETTINGS",me);case 8:case"end":return e.stop()}}),se)}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));S.run(pe),o.a.render(r.a.createElement(l.a,{store:I},r.a.createElement(J,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[189,1,2]]]);
//# sourceMappingURL=main.6ff7833b.chunk.js.map